{"version":3,"sources":["components/Header.jsx","components/ClientList.jsx","components/ClientActions.jsx","components/ClientForm.jsx","components/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Header","_ref","title","onClick","React","createElement","className","ClientList","clients","selectedClientId","onSelectClient","map","client","index","key","id","firstName","lastName","ClientActions","editMode","loading","onEditClient","onSaveClient","onDeleteClient","disabled","ClientForm","clientForm","onChange","onSave","placeholder","value","e","_objectSpread","target","Modal","type","onDelete","onClose","DAYS","getMonday","date","d","Date","day","getDay","diff","getDate","setDate","formatDate","isNaN","getTime","toISOString","split","App","screen","setScreen","useState","weekMonday","setWeekMonday","showWeekPicker","setShowWeekPicker","reservations","setReservations","setClients","setSelectedClientId","setClientForm","setEditMode","modal","setModal","setLoading","isReserved","dayIdx","hour","dateStr","find","r","slice","handleCreateReservation","trim","alert","c","clientId","fetch","method","headers","body","JSON","stringify","then","ok","json","err","Error","error","concat","data","catch","console","message","finally","async","includes","newClient","prev","handleSaveClient","updated","useEffect","sortedClients","sort","a","b","nameA","toLowerCase","nameB","localeCompare","length","window","localStorage","getItem","setItem","some","filter","remaining","log","monday","start","end","getMonth","getFullYear","getWeekRange","Array","from","HOUR_END","_","h","style","pointerEvents","background","color","fontWeight","reserved","reservation","handleHourClick","undefined","i","Fragment","marginBottom","reservationId","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.b6549e2b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Header({ title, onClick }) {\r\n  return (\r\n    <div className=\"header\">\r\n      <span className=\"app-title clickable\" onClick={onClick}>{title}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction ClientList({ clients, selectedClientId, onSelectClient }) {\r\n  return (\r\n    <div className=\"client-list\">\r\n      {clients.map((client, index) => (\r\n        <div\r\n          key={client.id}\r\n          className={\r\n            \"client-row\" +\r\n            (selectedClientId === null && index === 0\r\n              ? \" selected\"\r\n              : selectedClientId === client.id\r\n              ? \" selected\"\r\n              : \"\")\r\n          }\r\n          onClick={() => onSelectClient(client.id)}\r\n        >\r\n          {client.firstName} {client.lastName}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClientList;\r\n","import React from \"react\";\r\n\r\nfunction ClientActions({ editMode, loading, onEditClient, onSaveClient, onDeleteClient }) {\r\n  return (\r\n    <div className=\"client-actions\">\r\n      <button\r\n        disabled={loading}\r\n        onClick={editMode ? onSaveClient : onEditClient}\r\n      >\r\n        {editMode ? \"Uložit změny\" : \"Upravit klienta\"}\r\n      </button>\r\n      <button\r\n        disabled={loading}\r\n        onClick={onDeleteClient}\r\n      >\r\n        Smazat klienta\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClientActions;\r\n","import React from \"react\";\r\n\r\nfunction ClientForm({ clientForm, loading, onChange, onSave }) {\r\n  return (\r\n    <div className=\"client-form\">\r\n      <input\r\n        placeholder=\"Jméno\"\r\n        value={clientForm.firstName}\r\n        onChange={(e) => onChange({ ...clientForm, firstName: e.target.value })}\r\n      />\r\n      <input\r\n        placeholder=\"Příjmení\"\r\n        value={clientForm.lastName}\r\n        onChange={(e) => onChange({ ...clientForm, lastName: e.target.value })}\r\n      />\r\n      <button onClick={onSave} disabled={loading}>\r\n        Uložit klienta\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClientForm;\r\n","import React from \"react\";\r\n\r\nfunction Modal({ type, loading, onDelete, onClose }) {\r\n  if (type === \"client-delete-confirm\") {\r\n    return (\r\n      <div className=\"modal\">\r\n        <div className=\"modal-content\">\r\n          <p>Smazat tohoto klienta?</p>\r\n          <button onClick={onDelete} disabled={loading}>\r\n            Smazat\r\n          </button>\r\n          <button onClick={onClose}>Zpět</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (type === \"client-delete-error\") {\r\n    return (\r\n      <div className=\"modal\">\r\n        <div className=\"modal-content\">\r\n          <p>Nelze smazat klienta, dokud má aktivní rezervace.</p>\r\n          <button onClick={onClose}>Zpět</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header\";\r\nimport ClientList from \"./components/ClientList\";\r\nimport ClientActions from \"./components/ClientActions\";\r\nimport ClientForm from \"./components/ClientForm\";\r\nimport Modal from \"./components/Modal\";\r\n\r\nconst HOUR_START = 6;\r\nconst HOUR_END = 19;\r\nconst DAYS = [\"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\", \"Ne\"];\r\n\r\nfunction getMonday(date) {\r\n  const d = new Date(date);\r\n  const day = d.getDay();\r\n  const diff = d.getDate() - day + (day === 0 ? -6 : 1);\r\n  return new Date(d.setDate(diff));\r\n}\r\n\r\nfunction formatDate(date) {\r\n  if (!date || isNaN(new Date(date).getTime())) return \"\";\r\n  return new Date(date).toISOString().split(\"T\")[0];\r\n}\r\n\r\nfunction getWeekRange(monday) {\r\n  if (!monday || isNaN(new Date(monday).getTime())) return \"\";\r\n  const start = new Date(monday);\r\n  if (isNaN(start.getTime())) return \"\";\r\n  const end = new Date(start);\r\n  end.setDate(start.getDate() + 4);\r\n  return `${start.getDate()}. ${start.getMonth() + 1}. – ${end.getDate()}. ${end.getMonth() + 1}. ${end.getFullYear()}`;\r\n}\r\n\r\nfunction App() {\r\n  const [screen, setScreen] = useState(\"dashboard\");\r\n  const [weekMonday, setWeekMonday] = useState(getMonday(new Date()));\r\n  const [showWeekPicker, setShowWeekPicker] = useState(false);\r\n  const [reservations, setReservations] = useState([]);\r\n  const [clients, setClients] = useState([]);\r\n  const [selectedClientId, setSelectedClientId] = useState(null);\r\n  const [clientForm, setClientForm] = useState({ firstName: \"\", lastName: \"\" });\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [modal, setModal] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`/reservations?week=${formatDate(weekMonday)}`)\r\n      .then((r) => r.json())\r\n      .then((data) => setReservations(data));\r\n  }, [weekMonday]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/clients\")\r\n      .then((r) => r.json())\r\n      .then((data) => {\r\n        const sortedClients = data.sort((a, b) => {\r\n          const nameA = a.firstName.toLowerCase();\r\n          const nameB = b.firstName.toLowerCase();\r\n          if (nameA === nameB) {\r\n            return a.lastName.toLowerCase().localeCompare(b.lastName.toLowerCase());\r\n          }\r\n          return nameA.localeCompare(nameB);\r\n        });\r\n        setClients(sortedClients);\r\n      });\r\n  }, []);\r\n\r\n  function isReserved(dayIdx, hour) {\r\n    const date = new Date(weekMonday);\r\n    date.setDate(date.getDate() + dayIdx);\r\n    const dateStr = formatDate(date);\r\n    // Oprava: porovnávej pouze YYYY-MM-DD část z r.date\r\n    return reservations.find((r) => r.date && r.date.slice(0, 10) === dateStr && r.hour === hour);\r\n  }\r\n\r\n  function handleHourClick(dayIdx, hour) {\r\n    setClientForm({ firstName: \"\", lastName: \"\" });\r\n    const reserved = isReserved(dayIdx, hour);\r\n    if (reserved) {\r\n      setModal({ type: \"reservation-view\", data: { reservation: reserved } });\r\n    } else {\r\n      setModal({ type: \"reservation-create\", data: { dayIdx, hour } });\r\n    }\r\n  }\r\n\r\n  function handleCreateReservation(firstName, lastName, dayIdx, hour) {\r\n    if (!firstName.trim() || !lastName.trim()) {\r\n      alert(\"Vyplňte jméno i příjmení.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    let client = clients.find(\r\n      (c) => c.firstName === firstName && c.lastName === lastName\r\n    );\r\n    const date = new Date(weekMonday);\r\n    date.setDate(date.getDate() + dayIdx);\r\n    const dateStr = formatDate(date);\r\n    const createReservation = (clientId) => {\r\n      setLoading(true);\r\n      fetch(\"/reservations\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ clientId, date: dateStr, hour }),\r\n      })\r\n        .then((r) => {\r\n          if (!r.ok) return r.json().then(err => { throw new Error(err.error || \"Chyba při vytváření rezervace\"); });\r\n          return r.json();\r\n        })\r\n        .then(() => {\r\n          setModal(null);\r\n          fetch(`/reservations?week=${formatDate(weekMonday)}`)\r\n            .then((r) => r.json())\r\n            .then((data) => setReservations(data));\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          alert(e.message || \"Nepodařilo se vytvořit rezervaci.\");\r\n        })\r\n        .finally(() => setLoading(false));\r\n    };\r\n    if (client) {\r\n      createReservation(client.id);\r\n    } else {\r\n      fetch(\"/clients\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ firstName, lastName }),\r\n      })\r\n        .then(async (r) => {\r\n          if (!r.ok) {\r\n            const data = await r.json();\r\n            if (data && data.error && data.error.includes(\"existuje\")) {\r\n              alert(\"Klient už existuje.\");\r\n              return;\r\n            }\r\n            throw new Error(\"Chyba při vytváření klienta\");\r\n          }\r\n          return r.json();\r\n        })\r\n        .then((newClient) => {\r\n          if (!newClient) return;\r\n          setClientForm({ firstName: \"\", lastName: \"\" });\r\n          setClients((prev) => [...prev, newClient]);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }\r\n\r\n  function handleDeleteReservation(reservationId) {\r\n    setLoading(true);\r\n    fetch(`/reservations/${reservationId}`, {\r\n      method: \"DELETE\"\r\n    })\r\n      .then((r) => r.json())\r\n      .then(() => {\r\n        setModal(null);\r\n        setLoading(false);\r\n        fetch(`/reservations?week=${formatDate(weekMonday)}`)\r\n          .then((r) => r.json())\r\n          .then((data) => setReservations(data));\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (clients.length > 0 && selectedClientId === null) {\r\n      setSelectedClientId(clients[0].id);\r\n    }\r\n  }, [clients, selectedClientId]);\r\n\r\n  function handleSelectClient(id) {\r\n    setSelectedClientId(id);\r\n    setEditMode(false);\r\n    setClientForm({ firstName: \"\", lastName: \"\" });\r\n  }\r\n\r\n  function handleEditClient() {\r\n    const client = clients.find((c) => c.id === selectedClientId);\r\n    if (client) {\r\n      setEditMode(true);\r\n      setClientForm({ firstName: client.firstName, lastName: client.lastName });\r\n    }\r\n  }\r\n\r\n  function handleSaveClient() {\r\n    setLoading(true);\r\n    if (editMode) {\r\n      fetch(`/clients/${selectedClientId}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          firstName: clientForm.firstName,\r\n          lastName: clientForm.lastName,\r\n        }),\r\n      })\r\n        .then(async (r) => {\r\n          if (!r.ok) {\r\n            const data = await r.json();\r\n            if (data && data.error && data.error.includes(\"existuje\")) {\r\n              alert(\"Klient už existuje.\");\r\n              setLoading(false);\r\n              return;\r\n            }\r\n            throw new Error(\"Chyba při úpravě klienta\");\r\n          }\r\n          return r.json();\r\n        })\r\n        .then((updated) => {\r\n          if (!updated) return;\r\n          setEditMode(false);\r\n          setClientForm({ firstName: \"\", lastName: \"\" });\r\n          fetch(\"/clients\")\r\n            .then((r) => r.json())\r\n            .then((data) => setClients(data));\r\n        })\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      fetch(\"/clients\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ firstName: clientForm.firstName, lastName: clientForm.lastName }),\r\n      })\r\n        .then(async (r) => {\r\n          if (!r.ok) {\r\n            const data = await r.json();\r\n            if (data && data.error && data.error.includes(\"existuje\")) {\r\n              alert(\"Klient už existuje.\");\r\n              return;\r\n            }\r\n            throw new Error(\"Chyba při vytváření klienta\");\r\n          }\r\n          return r.json();\r\n        })\r\n        .then((newClient) => {\r\n          if (!newClient) return;\r\n          setClientForm({ firstName: \"\", lastName: \"\" });\r\n          setClients((prev) => [...prev, newClient]);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    }\r\n  }\r\n\r\n  function handleDeleteClient() {\r\n    // Zkontroluj, zda má klient aktivní rezervace\r\n    const hasReservation = reservations.some(r => r.clientId === selectedClientId);\r\n    if (hasReservation) {\r\n      alert(\"Nelze smazat, dokud má klient aktivní rezervace.\");\r\n      setModal(null);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    fetch(`/clients/${selectedClientId}`, {\r\n      method: \"DELETE\"\r\n    })\r\n      .then(async (r) => {\r\n        if (!r.ok) {\r\n          const data = await r.json();\r\n          if (data && data.error && data.error.includes(\"Nelze smazat klienta\")) {\r\n            setModal({ type: \"client-delete-error\" });\r\n          }\r\n        } else {\r\n          setClients((prev) => prev.filter((c) => c.id !== selectedClientId));\r\n          setSelectedClientId((prev) => {\r\n            const remaining = clients.filter((c) => c.id !== prev);\r\n            return remaining.length > 0 ? remaining[0].id : null;\r\n          });\r\n          setModal(null);\r\n        }\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }\r\n  // --- Render ---\r\n  // Zachovej stránku klientů i po refreshi, ale pouze pokud uživatel někdy stránku změnil\r\n  useEffect(() => {\r\n    const lastScreen = window.localStorage.getItem(\"bookeeapp_screen\");\r\n    if (lastScreen === \"clients\") setScreen(\"clients\");\r\n  }, []);\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"bookeeapp_screen\", screen);\r\n  }, [screen]);\r\n\r\n  if (screen === \"clients\") {\r\n    return (\r\n      <div className=\"mobile-container\">\r\n        <Header title=\"BookeeApp\" onClick={() => setScreen(\"dashboard\")} />\r\n        <div className=\"header-sub\">\r\n          <span className=\"page-title\">Klienti</span>\r\n          <span className=\"close-btn\" onClick={() => setScreen(\"dashboard\")}>×</span>\r\n        </div>\r\n        <ClientList\r\n          clients={clients}\r\n          selectedClientId={selectedClientId}\r\n          onSelectClient={handleSelectClient}\r\n        />\r\n        <ClientActions\r\n          editMode={editMode}\r\n          loading={loading}\r\n          onEditClient={handleEditClient}\r\n          onSaveClient={handleSaveClient}\r\n          onDeleteClient={() => setModal({ type: \"client-delete-confirm\" })}\r\n        />\r\n        <ClientForm\r\n          clientForm={clientForm}\r\n          loading={loading}\r\n          onChange={setClientForm}\r\n          onSave={() => {\r\n            setEditMode(false);\r\n            handleSaveClient();\r\n          }}\r\n        />\r\n        <Modal\r\n          type={modal?.type}\r\n          loading={loading}\r\n          onDelete={handleDeleteClient}\r\n          onClose={() => setModal(null)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- Dashboard ---\r\n  return (\r\n    <div className=\"mobile-container\">\r\n      <div className=\"header\">\r\n        <span\r\n          className=\"app-title clickable\"\r\n          onClick={() => setScreen(\"dashboard\")}\r\n        >\r\n          BookeeApp\r\n        </span>\r\n      </div>\r\n      <div className=\"header-sub\">\r\n        <span className=\"page-title\">Rezervace</span>\r\n        <span\r\n          className=\"clients-btn clickable right\"\r\n          onClick={() => setScreen(\"clients\")}\r\n        >\r\n          Klienti\r\n        </span>\r\n      </div>\r\n      <div className=\"week-picker\">\r\n        <button onClick={() => { console.log('WEEK PICKER BUTTON CLICK'); setShowWeekPicker(true); }}>\r\n          {getWeekRange(weekMonday) || \"výběr týdne\"}\r\n        </button>\r\n        {showWeekPicker && (\r\n          <div className=\"modal\">\r\n            <div className=\"modal-content\">\r\n              <input\r\n                type=\"date\"\r\n                value={formatDate(weekMonday)}\r\n                onChange={(e) => {\r\n                  console.log('DATE PICKER INPUT CHANGE', e.target.value);\r\n                  setWeekMonday(getMonday(new Date(e.target.value)));\r\n                  setShowWeekPicker(false);\r\n                }}\r\n              />\r\n              <button onClick={() => { console.log('WEEK PICKER MODAL CLOSE'); setShowWeekPicker(false); }}>Zpět</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"calendar\">\r\n        {/* Nový řádek s hodinami */}\r\n        <div className=\"calendar-row\">\r\n          <div className=\"calendar-day-label hour-label\">hod.</div>\r\n          {Array.from({ length: HOUR_END - HOUR_START + 1 }, (_, h) => (\r\n            <div\r\n              key={h}\r\n              className=\"calendar-hour-btn hour-label-cell\"\r\n              style={{ pointerEvents: 'none', background: '#f7f7f7', color: '#1976d2', fontWeight: 500 }}\r\n            >\r\n              {HOUR_START + h}.\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {/* Původní hlavička s hodinami a dny v týdnu smažeme, zůstane jen řádek s dny */}\r\n        {DAYS.map((day, dayIdx) => (\r\n          <div className=\"calendar-row\" key={dayIdx}>\r\n            <div className=\"calendar-day-label\">{day}</div>\r\n            {Array.from({ length: HOUR_END - HOUR_START + 1 }, (_, h) => {\r\n              const hour = HOUR_START + h;\r\n              const reserved = isReserved(dayIdx, hour);\r\n              let client = null;\r\n              if (reserved) {\r\n                client = clients.find(c => c.id === reserved.clientId);\r\n              }\r\n              return (\r\n                <button\r\n                  key={hour}\r\n                  className={\r\n                    \"calendar-hour-btn\" +\r\n                    (reserved ? \" reserved blue\" : \" free\")\r\n                  }\r\n                  onClick={() => handleHourClick(dayIdx, hour)}\r\n                  title={reserved && client ? `${client.firstName} ${client.lastName}` : undefined}\r\n                >\r\n                  {reserved ? \"•\" : \"\"}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {modal?.type === \"reservation-create\" && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <p className=\"modal-title\">Zvolte klienta</p>\r\n            <div className=\"client-list modal-list\">\r\n              {clients.map((c, i) => (\r\n                <div\r\n                  key={c.id}\r\n                  className={\r\n                    \"client-row\" +\r\n                    (clientForm.firstName === c.firstName && clientForm.lastName === c.lastName ? \" selected\" : \"\")\r\n                  }\r\n                  onClick={() => setClientForm({ firstName: c.firstName, lastName: c.lastName })}\r\n                >\r\n                  {c.firstName} {c.lastName}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"modal-subtitle\">Zadání nového klienta</div>\r\n            <input\r\n              placeholder=\"Jméno\"\r\n              value={clientForm.firstName}\r\n              onChange={(e) =>\r\n                setClientForm({ ...clientForm, firstName: e.target.value })\r\n              }\r\n            />\r\n            <input\r\n              placeholder=\"Příjmení\"\r\n              value={clientForm.lastName}\r\n              onChange={(e) =>\r\n                setClientForm({ ...clientForm, lastName: e.target.value })\r\n              }\r\n            />\r\n            <button\r\n              onClick={() => {\r\n                handleCreateReservation(\r\n                  clientForm.firstName,\r\n                  clientForm.lastName,\r\n                  modal.data.dayIdx,\r\n                  modal.data.hour\r\n                );\r\n              }}\r\n              disabled={loading}\r\n            >\r\n              Uložit rezervaci\r\n            </button>\r\n            <button onClick={() => setModal(null)}>Zpět</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {modal?.type === \"reservation-view\" && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            {(() => {\r\n              const reservation = modal.data.reservation;\r\n              const client = clients.find(c => c.id === reservation.clientId);\r\n              return (\r\n                <>\r\n                  <p style={{ fontWeight: 500, marginBottom: 8 }}>\r\n                    rezervace: {client ? `${client.firstName} ${client.lastName}` : \"\"}\r\n                  </p>\r\n                </>\r\n              );\r\n            })()}\r\n            <button\r\n              onClick={() => {\r\n                handleDeleteReservation(modal.data.reservation.id);\r\n              }}\r\n              disabled={loading}\r\n            >\r\n              Smazat\r\n            </button>\r\n            <button onClick={() => setModal(null)}>Zpět</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}